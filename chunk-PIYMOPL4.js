import{C,D as S,G as I,I as O,K as y,a as x,b as g,c as u,e as l,f as p,g as h,h as f,j as c,n,o as i,p as v,q as _,r as b,s as m,w as r,x as s}from"./chunk-JRC4Y4PX.js";import"./chunk-H4HRTHOW.js";import"./chunk-6MDQTQU3.js";function M(a,o){a&1&&v(0,"div",12)}function k(a,o){if(a&1){let t=_();n(0,"div",3)(1,"header",4)(2,"button",5),b("click",function(){g(t);let d=m();return u(d.goBack())}),r(3,"\u2190 Back to Articles"),i(),n(4,"div",6)(5,"span"),r(6),i(),n(7,"span"),r(8),i(),n(9,"span"),r(10),i()(),n(11,"h1",7),r(12),i(),n(13,"p",8),r(14),i()(),n(15,"main",9),f(16,M,1,0,"div",10),n(17,"div",11)(18,"p"),r(19),i()()()()}if(a&2){let t=m();l(6),s(t.post==null?null:t.post.author),l(2),s(t.post==null?null:t.post.date),l(2),s(t.post==null?null:t.post.readTime),l(2),s(t.post==null?null:t.post.title),l(2),s(t.post==null?null:t.post.excerpt),l(2),c("ngIf",t.post==null?null:t.post.mainImage),l(3),s((t.post==null?null:t.post.body)||"Content will be loaded from Sanity...")}}function B(a,o){a&1&&(n(0,"div",13),v(1,"div",14),n(2,"p"),r(3,"Loading article..."),i()())}function w(a,o){if(a&1){let t=_();n(0,"div",15)(1,"h2"),r(2,"Article Not Found"),i(),n(3,"p"),r(4,"Sorry, we couldn't find the article you're looking for."),i(),n(5,"button",16),b("click",function(){g(t);let d=m();return u(d.goBack())}),r(6,"Return to Articles"),i()()}}var P=class a{constructor(o,t,e){this.route=o;this.router=t;this.sanityService=e}post=null;loading=!0;error=!1;subscription=new x;ngOnInit(){console.log("In the blog post"),this.route.params.subscribe(o=>{let t=o.slug;t&&this.loadPost(t)})}ngOnDestroy(){this.subscription.unsubscribe()}loadPost(o){this.loading=!0,this.error=!1;let t=this.sanityService.fetchPostBySlug(o).subscribe({next:e=>{e?this.post={id:1,_id:e._id,title:e.title||"Untitled",excerpt:e.excerpt||"No excerpt available",author:e.author||"Anonymous",date:this.formatDate(e.publishedAt),category:e.category||"Uncategorized",readTime:e.readTime||"5 min read",slug:e.slug?.current||e._id,mainImage:e.mainImage,body:e.body[0].children[0].text}:this.error=!0,this.loading=!1},error:e=>{console.error("Error loading post:",e),this.error=!0,this.loading=!1}});console.log("sub",t),this.subscription.add(t)}formatDate(o){return o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"No date"}goBack(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||a)(p(I),p(O),p(y))};static \u0275cmp=h({type:a,selectors:[["app-blog-post"]],decls:3,vars:3,consts:[["class","blog-post-container",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"blog-post-container"],[1,"post-header"],[1,"back-button",3,"click"],[1,"post-meta"],[1,"post-title"],[1,"post-excerpt"],[1,"post-content"],["class","post-image",4,"ngIf"],[1,"post-body"],[1,"post-image"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[3,"click"]],template:function(t,e){t&1&&f(0,k,20,7,"div",0)(1,B,4,0,"div",1)(2,w,7,0,"div",2),t&2&&(c("ngIf",!e.loading),l(),c("ngIf",e.loading),l(),c("ngIf",e.error))},dependencies:[S,C],styles:[".blog-post-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}.back-button[_ngcontent-%COMP%]{background:none;border:none;color:#007bff;cursor:pointer;font-size:1rem;margin-bottom:1rem}.back-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.post-header[_ngcontent-%COMP%]{margin-bottom:2rem}.post-meta[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.post-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1rem}.post-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:1rem;line-height:1.2}.post-excerpt[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;line-height:1.6}.post-content[_ngcontent-%COMP%]{line-height:1.8;font-size:1.1rem}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};export{P as BlogPostComponent};
